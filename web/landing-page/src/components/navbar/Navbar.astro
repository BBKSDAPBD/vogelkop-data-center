---
import logo from '@/assets/Logo.png';
import { Image } from 'astro:assets';
import { ThemeSwitcher } from '../optics/theme-switcher';
import { Button } from '../ui/button';
import { AnimatedListItem, AnimatedText } from './animated-text';
import NavSection from './nav-section.astro';
---

<nav class="w-full p-4 font-sans sticky top-0 z-999" aria-label="Main Navigation">
  <div class="max-w-[1600px] mx-auto grid grid-cols-1 md:grid-cols-6 gap-4">
    
    <!-- logo Column -->
    <NavSection title="Intro">
      <figure class="flex flex-col gap-2">
        <div class="flex items-center gap-4">
          <Image 
            src={logo} 
            alt="Balai Besar KSDA Papua Barat Daya Logo" 
            width={40} 
            height={40} 
          />
          <figcaption class="space-y-1">
            <h3 class="leading-tight">
              <AnimatedText client:load text="Balai Besar KSDA" delay={0} />
              <br />
              <AnimatedText client:load text="Papua Barat Daya" delay={0.15} />
            </h3>
          </figcaption>
        </div>
        <h4 class="text-sm capitalize opacity-80">
          <AnimatedText client:load text="direktorat jenderal konservasi sumber daya alam dan ekosistem" delay={0.3} />
        </h4>
        <h5 class="text-xs capitalize opacity-80">
          <AnimatedText client:load text="Kemeterian Kehutanan Republik Indonesia" delay={0.6} />
        </h5>
      </figure>
    </NavSection>

    <!-- Profile Column -->
    <NavSection title="Profile">
      <ul class="text-sm space-y-1.5 capitalize">
        <AnimatedListItem client:load text="sejarah" index={0} baseDelay={0.2} />
        <AnimatedListItem client:load text="tugas dan fungsi" index={1} baseDelay={0.2} />
        <AnimatedListItem client:load text="rencana kerja" index={2} baseDelay={0.2} />
        <AnimatedListItem client:load text="rencana strategis" index={3} baseDelay={0.2} />
      </ul>
    </NavSection>

    <!-- Organisasi Column -->
    <NavSection title="Organisasi">
      <ul class="text-sm space-y-1.5 capitalize">
        <AnimatedListItem client:load text="dasar hukum" index={0} baseDelay={0.3} />
        <AnimatedListItem client:load text="struktur organisasi" index={1} baseDelay={0.3} />
        <AnimatedListItem client:load text="Bagian Tata Usaha" index={2} baseDelay={0.3} />
        <AnimatedListItem client:load text="Bidang Teknis KSDAE" index={3} baseDelay={0.3} />
        <AnimatedListItem client:load text="Bidang KSDA Wilayah I" index={4} baseDelay={0.3} />
        <AnimatedListItem client:load text="Bidang KSDA Wilayah II" index={5} baseDelay={0.3} />
      </ul>
    </NavSection>

    <!-- Data & Informasi Column -->
    <NavSection title="Data & Informasi">
      <ul class="text-sm space-y-1.5 capitalize">
        <AnimatedListItem client:load text="Peraturan perundangan" index={0} baseDelay={0.4} />
        <AnimatedListItem client:load text="TSL dilindungi" index={1} baseDelay={0.4} />
        <AnimatedListItem client:load text="penelitian" index={2} baseDelay={0.4} />
        <AnimatedListItem client:load text="laporan kinerja" index={3} baseDelay={0.4} />
        <AnimatedListItem client:load text="siaran pers" index={4} baseDelay={0.4} />
      </ul>
    </NavSection>

    <!-- Kawasan Konservasi & Pelayanan Column -->
    <NavSection title="Kawasan & Pelayanan">
      <div class="space-y-4">
        <div>
          <h4 class="text-[10px] uppercase tracking-widest mb-2">
            <span class="bg-primary-foreground px-2 py-1">
            Kawasan Konservasi
            </span>
          </h4>
          <ul class="text-sm space-y-1 capitalize">
            <AnimatedListItem client:load text="Cagar Alam" index={0} baseDelay={0.5} />
            <AnimatedListItem client:load text="Suaka Marga Satwa" index={1} baseDelay={0.5} />
            <AnimatedListItem client:load text="Taman Wisata Alam" index={2} baseDelay={0.5} />
            <AnimatedListItem client:load text="KSA/KPA" index={3} baseDelay={0.5} />
          </ul>
        </div>
        <div>
          <h4 class="text-[10px] uppercase tracking-widest mb-2">
            <span class="bg-primary-foreground px-2 py-1">
            Pelayanan Publik
            </span>
          </h4>
          <ul class="text-sm space-y-1 capitalize">
            <AnimatedListItem client:load text="Permohonan Data" index={0} baseDelay={0.7} />
            <AnimatedListItem client:load text="izin masuk kawasan konservasi" index={1} baseDelay={0.7} />
            <AnimatedListItem client:load text="SATS-DN & SATS-LN" index={2} baseDelay={0.7} />
          </ul>
        </div>
      </div>
    </NavSection>

    <!-- Connect Column -->
    <NavSection title="Connect">
      <address class="flex flex-col gap-6 not-italic">
        <ul class="text-sm space-y-1.5 list-none p-0 m-0">
          <AnimatedListItem client:load text="Instagram" index={0} baseDelay={0.6} />
          <AnimatedListItem client:load text="Email" index={1} baseDelay={0.6} />
          <AnimatedListItem client:load text="Facebook" index={2} baseDelay={0.6} />
          <AnimatedListItem client:load text="WhatsApp" index={3} baseDelay={0.6} />
        </ul>
        <div class="space-y-2 border-t border-white/5 pt-4">
          <div class="space-y-1">
          <h4 class="text-[10px] uppercase tracking-widest mb-2">
            <span class="bg-primary-foreground px-2 py-1">
            layanan pengaduan
            </span>
          </h4>
            <p class="text-sm opacity-80 font-medium">
              <AnimatedText client:load text="Call Center" delay={0.9} />
            </p>
          </div>
          <div class="flex items-center gap-4 w-full">
                <Button
                    variant="decorations"
                    className="bg-primary w-full border-white/10 hover:bg-white/5 hover:text-muted-foreground text-white"
                >
                    <span>0811-4850-0040</span>
                </Button>
          </div>
        </div>
      </address>
        <ThemeSwitcher client:load slot="right" />
    </NavSection>
  </div>
</nav>

<style>
  /* Custom scrollbar or other tweaks if needed */
  nav {
    scrollbar-width: none;
  }
  nav::-webkit-scrollbar {
    display: none;
  }
</style>
